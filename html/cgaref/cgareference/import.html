<html>

<head>
    <title>
    import
    </title>
    <link rel="stylesheet" href="../manual_style.css" type="text/css" />
</head>

<body>
<div class="content">

<!-- HEADER (use only on bookchapters) -->

    <table summary="" class="header">
        <tr>
            <td align="left" class="helphead_l"><a href="../toc.html"><div class="helplink">&nbsp;</div></a></td>
            <td align="right" class="helphead_r"></td>
        </tr>
    </table>


<!-- CONTENT -->

        
  <h1>import</h1>
        <h2>
        Synopsis        </h2>
        
  <p class="code2">import <i>id</i> : <i>&quot;file.cga&quot;</i></p>
  <p class="code2">import <i>id( style-id_1, ... , style-id_n)</i> : <i>&quot;file.cga&quot;</i></p>
  <p class="code2">import <i>id</i> : <i>&quot;file.cga&quot; ( attribute_1, ... , attribute_n )</i></p>
  <p class="code2">import <i>id</i> : <i>&quot;file.cga&quot; ( attribute_1 = value, ... , attribute_n = value )</i></p>
  <p class="code2">import <i>id</i> : <i>&quot;file.cga&quot; ()</i></p>
        
        
        
  <p class="text"><img alt="" class="icon" src="../images/info_icon.jpg">Rules, attributes and functions from an existing rule file
  can be imported by a rule file through &quot;import&quot;. Importing a rule file makes all rules, attributes and functions of the <i>imported</i>
  rule file available prefixed by &quot;id&quot;.
  If the <i>imported</i> rule file contains multiple styles, by default all styles are imported and visible in the style manager. 
  In order to limit the styles available in an <i>importing</i> rule file, the set of imported styles can be specified by enumerating 
  the imported styles in parenthesis after the import id as in the second form of the import statement with &quot;style-id1, ..., style-id_n&quot;.
   </p><p>
   By default, attribute values from an <i>importing</i> rule file (e.g. &quot;height&quot; in &quot;main.cga&quot; below)
   are propagated to the <i>imported</i> rule file (e.g. &quot;height&quot; in &quot;structure.cga&quot; takes its value
    from &quot;height&quot; in &quot;main.cga&quot; below).
   
   In order to disable this default behavior (e.g. because an 
   attribute in an <i>imported</i> rule file has the same name but a different semantic and should therefore not be overwritten), 
   the attributes in an <i>imported</i> rule file can be protected by enumerating them after the rule file as in the third variant
    of the import statement (&quot;attribute_1, ..., attribute_n&quot;). Attributes can not only be protected but an <i>importing</i>
     rule file can additionally specify a new value for the attribute by redefining an attribute with an expression as in the 
     fourth form of the import statement (&quot;attribute_1 = value, ... , attribute_n = value&quot;) where the right hand side
     expression is evaluated in the scope of the <i>importing</i> rule file.
     <p>
     Using empty parantheses protects all imported attributes.
      </p><p>
      Setting the attribute source of an imported attribute in the inspector to something else than &quot;Rule-defined value&quot; will
      disable this behavior for that attribute completely and the value will be taken from the designated source instead.
  </p>
      <p>Imports can be annotated to control their attribute presentation in the inspector. See <a href="cga_annotations.html">&quot;Annotations&quot;</a>.</p> 
  
  <h2>Example
</h2>

  <h3>Combining two facades with a structure</h3>
        <table summary="" class="onecol">
          <tr>            
            <td>
        <pre class="code3"><font color="#009900"># -- facade1.cga</font>

actualFloorHeight = scope.sy/rint(scope.sy/4)
actualTileWidth   = scope.sx/rint(scope.sx/4)
	
Facade -->
	setupUV(0, 8*actualTileWidth, 8*actualFloorHeight)
	set(material.colormap, "f1.tif")
	bakeUV(0)</pre>
      </td>
          </tr>
          <tr>            
            <td>
        <pre class="code3"><font color="#009900"># -- facade2.cga</font>

actualFloorHeight = scope.sy/rint(scope.sy/6)
actualTileWidth   = scope.sx/rint(scope.sx/4)
	
Facade -->
	setupUV(0, 8*actualTileWidth, 8*actualFloorHeight)
	set(material.colormap, "f2.tif")
	bakeUV(0)</pre>
      </td>
          </tr>
          <tr>            
            <td>
        <pre class="code3"><font color="#009900"># -- structure.cga

// the attribute height will be overridden by the
// attribute height from &quot;main.cga&quot; if this rule
// file is included. Thus if this rule file is
// used standalone, the buildings will be of height
// 100, if this rule file is included by &quot;main.cga&quot;,
// the buildings will be of height 200.</font>
attr height = 100

Lot-->extrude(height) Mass

Mass-->comp(f){ side: Facade | top: Roof }</pre>
      </td>
          </tr>
          <tr>            
            
      <td> 
        <pre class="code3"><font color="#009900"># -- main.cga

// define an attribute "height", potentially
// overriding the same attribute in imported
// rule files.
</font>
attr height = 200

<font color="#009900">// import facades</font>
import f1 : "facade1.cga"
import f2 : "facade2.cga"

<font color="#009900">// import structure</font>
import st : "structure.cga"

Lot-->
 <font color="#009900">	// reference rule "Lot" in structure.cga</font>
	st.Lot

<font color="#009900">// define rule "Facade" for structure.cga</font>
st.Facade-->
<font color="#009900">	// reference rule "Facade" in facade1.cga</font>
	50%  : f1.Facade  
<font color="#009900">	// reference rule "Facade" in facade2.cga</font>
	else : f2.Facade
</pre>
            </td>
          </tr>
  </table>

  <h3><!-- FOOTER --> </h3>
        <p class="foot">Copyright &copy;2008-2015 Esri R&D Center Zurich. All rights reserved.</p>				  

<!-- END CENTERED CONTENT -->

</div>
</body>
</html>
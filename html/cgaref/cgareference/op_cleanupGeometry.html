<html>

<head>
    <title>
    cleanupGeometry Operation
    </title>
    <link rel="stylesheet" href="../manual_style.css" type="text/css" />
</head>

<body>
<div class="content">

<!-- HEADER (use only on bookchapters) -->

    <table summary="" class="header">
        <tr>
            <td align="left" class="helphead_l"><a href="../toc.html"><div class="helplink">&nbsp;</div></a></td>
            <td align="right" class="helphead_r"></td>
        </tr>
    </table>


<!-- CONTENT -->

        <h1>
        cleanupGeometry operation
        </h1>


  <h2> Synopsis </h2>
  <p class="code2"><span class="cga_op">cleanupGeometry</span>(<span class="cga_opparam">componentSelector, tol</span>)</p>
  <h2> Parameters </h2>
  <ul>
    <li><span class="cga_opparam">componentSelector</span> (selstr)<br>
    What components to clean up:
    <ul>
    	<li><span class="codelight">vertices</span>: merges vertices and removes colinear vertices.</li>
    	<li><span class="codelight">edges</span>: merges vertices and removes shared edges between coplanar faces.</li>
    	<li><span class="codelight">faces</span>: merges vertices and removes duplicate faces and degenerated faces with small area.</li>
    	<li><span class="codelight">all</span>: cleans up all components.</li>
	</ul>
    </li>
    <li><span class="cga_opparam">tol</span> (float)<br>
    Controls the rigorousness of the cleanup operation. Valid values are in the range [0, 1]. While 0 only cleans up matching components (e.g. vertices with identical coordinates are merged or adjacent faces with identical normals are combined), 1 is more aggressive: vertices up to a distance of 1m are merged, and normals with intermediate angles up to 10 degrees are considered coplanar. For values in-between 0 and 1 linear interpolation is applied.
    </li>
 </ul>

<p class="info">
        The <span class="codelight">cleanupGeometry</span> operation cleans up the current shape's geometry. This allows for optimizing the geometry for subsequent cga operations.


<h2>Related</h2>
<ul>
    <li><a class="normw" href="op_convexify.html">convexify operation</a></li>
    <li><a class="normw" href="op_innerRect.html">innerRect operation</a></li>
    <li><a class="normw" href="op_mirror.html">mirror operation</a></li>
    <li><a class="normw" href="op_reduceGeometry.html">reduceGeometry operation</a></li>
    <li><a class="normw" href="op_reverseNormals.html">reverseNormals operation</a></li>
    <li><a class="normw" href="op_setNormals.html">setNormals operation</a></li>
    <li><a class="normw" href="op_trim.html">trim operation</a></li>
</ul>



<h2>Examples</h2>
<h3>Cleaning up a triangulated asset</h3>
        <table summary="" class="twocol">
          <tr>
            <td class="twocol_l"><br/>
            <img src="images/cleanup_a-none.png" alt="Before cleanup"/> </td>
            <td>
            <br>
            <br>
            <br>
            <br>
            
            <pre class="code3">
Init-->
  i("myHouse.dae")
</pre>
            <br>
            <br>

            <em>The original asset (464 faces, 758 vertices).</em>
			</td>
          </tr>

          <tr>
            <td class="twocol_l"><br/>
            <img src="images/cleanup_a-all_0.png" alt="cleanupGeometry(all, 0)"/> </td>
            <td>
            <br>
            <br>
            <br>
            <br>
 
            <pre class="code3">
Init-->
   i("myHouse.dae")
   cleanupGeometry(all, 0)
</pre>
            <br>
            <br>

            <em>Mild cleanup removes most disturbing edges (190 faces, 752 vertices).</em>
			</td>
          </tr>

          <tr>
            <td class="twocol_l"><br/>
            <img src="images/cleanup_a-all_0_1.png" alt="cleanupGeometry(all, 0.1)"/> </td>
            <td>
            <br>
            <br>
            <br>
            <br>
 
            <pre class="code3">
Init-->
   i("myHouse.dae")
   cleanupGeometry(all, 0.1)
</pre>
            <br>
            <br>

            <em>Increasing the tolerance gets rid of the remaining nasty edges (146 faces, 616 vertices).</em>
			</td>
          </tr>

	</table>



<!-- FOOTER -->
<p class="foot">Copyright &copy;2008-2015 Esri R&D Center Zurich. All rights reserved.</p>				  

<!-- END CENTERED CONTENT -->

</div>
</body>
</html>